{"version":3,"sources":["store.js","components/Text.js","components/CustomMaterial.js","blocks.js","components/Plane.js","index.js"],"names":["state","sections","pages","zoom","paragraphs","offset","factor","header","image","aspect","url","text","stripes","color","height","diamonds","x","pos","Vector3","scale","top","createRef","Text","children","size","left","right","bottom","opacity","layers","font","props","data","useLoader","FontLoader","geom","usePromise","Promise","res","TextBufferGeometry","curveSegments","onUpdate","useCallback","self","box","geometry","computeBoundingBox","boundingBox","getSize","position","y","ref","useRef","last","current","useFrame","shift","lerp","frustumCulled","attach","transparent","CustomMaterial","vertexShader","fragmentShader","uniforms","texture","value","hasTexture","Color","this","ShaderMaterial","extend","offsetContext","createContext","Block","useBlock","parentOffset","sectionHeight","undefined","curY","curTop","Provider","useThree","viewport","useContext","viewportWidth","width","viewportHeight","canvasWidth","canvasHeight","mobile","margin","contentMaxWidth","offsetFactor","Plane","forwardRef","args","map","material","Startup","Paragraph","index","w","alignRight","pixelWidth","style","textAlign","tabIndex","href","className","target","data-url","String","padStart","Content","images","TextureLoader","useMemo","forEach","minFilter","LinearFilter","key","rotation","Math","PI","ReactDOM","render","useState","modalUrl","setModalUrl","useEffect","onScroll","e","window","scrollY","addEventListener","onModalClick","classList","contains","preventDefault","URL","dataset","searchParams","get","document","getElementById","removeEventListener","Array","fill","_","id","concurrent","pixelRatio","orthographic","camera","fallback","center","xmlns","xmlnsXlink","viewBox","d","item","channel","autoplay","isOpen","videoId","youtube","onClose"],"mappings":"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","file":"static/js/main.bd70aad7.chunk.js","sourcesContent":["import { createRef } from \"react\"\nimport { Vector3 } from \"three\"\n\nconst state = {\n  sections: 51,\n  pages: 50,\n  zoom: 75,\n  paragraphs: [\n    {\n      offset: 1,\n      factor: 1.625,\n      header: \"Humorous phases of funny faces (1906)\",\n      image: \"/01_100.png\",\n      aspect: 1.77,\n      url: \"https://www.youtube.com/watch?v=wGh6maN4l2I\",\n      text: \"Realizado por James Stuart Blackton, este curta-metragem de animação estado-unidense é geralmente considerado pelos historiadores do cinema como o primeiro filme de animação gravado sobre suporte fotográfico.\"\n    },\n    {\n      offset: 2,\n      factor: 1.625,\n      header: \"Fantasmagoria (1908)\",\n      image: \"/02_100.png\",\n      aspect: 1.77,\n      url: \"https://www.youtube.com/watch?v=aEAObel8yIE\",\n      text: \"Animado por Émile Cohl, este curta-metragem de animação francês é considerada por muitos pesquisadores da sétima arte como o primeiro desenho animado da história.\"\n    },\n    {\n      offset: 3,\n      factor: 1.625,\n      header: \"The Camerman's Revenge (1912)\",\n      image: \"/03_100.png\",\n      aspect: 1.77,\n      url: \"https://www.youtube.com/watch?v=byqFTRjXJDk\",\n      text: \"\"\n    },\n    {\n      offset: 4,\n      factor: 1.625,\n      header: \"Gertie the Dinosaur (1914)\",\n      image: \"/04_100.png\",\n      aspect: 1.77,\n      url: \"https://www.youtube.com/watch?v=32pzHWUTcPc\",\n      text: \"\"\n    },\n    {\n      offset: 5,\n      factor: 1.625,\n      header: \"Rhythmus 21 (1921)\",\n      image: \"/05_100.png\",\n      aspect: 1.77,\n      url: \"https://www.youtube.com/watch?v=Q56yKWZYuV8\",\n      text: \"\"\n    },\n    {\n      offset: 6,\n      factor: 1.625,\n      header: \"Sinfonia Diagonal (1921)\",\n      image: \"/06_100.png\",\n      aspect: 1.77,\n      url: \"https://www.youtube.com/watch?v=KpCI67GMe7o\",\n      text: \"\"\n    },\n    {\n      offset: 7,\n      factor: 1.625,\n      header: \"Lightspiel (1921)\",\n      image: \"/07_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 8,\n      factor: 1.625,\n      header: \"Cinderella (1922)\",\n      image: \"/08_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 9,\n      factor: 1.625,\n      header: \"Steamboat Willie (1928)\",\n      image: \"/09_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 10,\n      factor: 1.625,\n      header: \"Betty Boop in Snow-White (1933)\",\n      image: \"/10_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 11,\n      factor: 1.625,\n      header: \"A Colour Box (1935)\",\n      image: \"/11_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 12,\n      factor: 1.625,\n      header: \"Komposition in blau (1935)\",\n      image: \"/12_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 13,\n      factor: 1.625,\n      header: \"Blitz Wolf (1942)\",\n      image: \"/13_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 14,\n      factor: 1.625,\n      header: \"Inspiração (1948)\",\n      image: \"/14_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 15,\n      factor: 1.625,\n      header: \"Gerald Mcboing-Boing(1951)\",\n      image: \"/15_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 16,\n      factor: 1.625,\n      header: \"Neighbours (1952)\",\n      image: \"/16_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 17,\n      factor: 1.625,\n      header: \"Duck Amuck (1953)\",\n      image: \"/17_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 18,\n      factor: 1.625,\n      header: \"Do It Yourself Cartoon Kit (1961)\",\n      image: \"/18_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 19,\n      factor: 1.625,\n      header: \"Catalogue (1961)\",\n      image: \"/19_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 20,\n      factor: 1.625,\n      header: \"A Mão (1965)\",\n      image: \"/20_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 21,\n      factor: 1.625,\n      header: \"Walking (1968)\",\n      image: \"/21_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 22,\n      factor: 1.625,\n      header: \"Story Time (1968)\",\n      image: \"/22_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 23,\n      factor: 1.625,\n      header: \"Sisyphus (1974)\",\n      image: \"/23_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 24,\n      factor: 1.625,\n      header: \"La Faim (1974)\",\n      image: \"/24_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 25,\n      factor: 1.625,\n      header: \"Powers of Ten (1977)\",\n      image: \"/25_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 26,\n      factor: 1.625,\n      header: \"Satiemania (1978)\",\n      image: \"/26_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 27,\n      factor: 1.625,\n      header: \"Tale of tales (1979)\",\n      image: \"/27_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 28,\n      factor: 1.625,\n      header: \"Tango (1980)\",\n      image: \"/28_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 29,\n      factor: 1.625,\n      header: \"Vincent (1982)\",\n      image: \"/29_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 30,\n      factor: 1.625,\n      header: \"Dimensões do diálogo (1982)\",\n      image: \"/30_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 31,\n      factor: 1.625,\n      header: \"O Homem que Plantava Árvores (1987)\",\n      image: \"/31_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 32,\n      factor: 1.625,\n      header: \"Creature Comforts (1989)\",\n      image: \"/32_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 33,\n      factor: 1.625,\n      header: \"Mona Lisa Descending a Staircase (1992)\",\n      image: \"/33_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 34,\n      factor: 1.625,\n      header: \"Felix in Exile (1994)\",\n      image: \"/34_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 35,\n      factor: 1.625,\n      header: \"Old Man And The Sea (1999)\",\n      image: \"/35_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 36,\n      factor: 1.625,\n      header: \"Father and Daughter (2000)\",\n      image: \"/36_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 37,\n      factor: 1.625,\n      header: \"Tuning instruments (2000)\",\n      image: \"/37_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 38,\n      factor: 1.625,\n      header: \"Snack and Drink (2000)\",\n      image: \"/38_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 39,\n      factor: 1.625,\n      header: \"Stones (2001)\",\n      image: \"/39_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 40,\n      factor: 1.625,\n      header: \"Scrat's Missing Adventure (2002)\",\n      image: \"/40_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 41,\n      factor: 1.625,\n      header: \"Ryan (2004)\",\n      image: \"/41_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 42,\n      factor: 1.625,\n      header: \"L'homme sans ombre (2004)\",\n      image: \"/42_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 43,\n      factor: 1.625,\n      header: \"The Mysterious Jasper Morello (2005)\",\n      image: \"/43_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 44,\n      factor: 1.625,\n      header: \"Pixar (2005)\",\n      image: \"/44_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 45,\n      factor: 1.625,\n      header: \"Dreams and Desires (2006)\",\n      image: \"/45_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 46,\n      factor: 1.625,\n      header: \"Oktapodi (2007)\",\n      image: \"/46_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 47,\n      factor: 1.625,\n      header: \"Logorama (2009)\",\n      image: \"/47_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 48,\n      factor: 1.625,\n      header: \"Zero (2010)\",\n      image: \"/48_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 49,\n      factor: 1.625,\n      header: \"The Hunter (2011)\",\n      image: \"/49_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n    {\n      offset: 50,\n      factor: 1.625,\n      header: \"Le grand ailleurs et le petit ici (2012)\",\n      image: \"/50_100.png\",\n      aspect: 1.77,\n      text: \"\"\n    },\n  ],\n  stripes: [\n    { offset: 0, color: \"#040506\", height: 10 },\n    { offset: 2, color: \"#040506\", height: 10 },\n    { offset: 4, color: \"#040506\", height: 10 },\n    { offset: 6, color: \"#040506\", height: 10 },\n    { offset: 8, color: \"#040506\", height: 10 },\n    { offset: 10, color: \"#040506\", height: 10 },\n    { offset: 12, color: \"#040506\", height: 10 },\n    { offset: 14, color: \"#040506\", height: 10 },\n    { offset: 16, color: \"#040506\", height: 10 },\n    { offset: 18, color: \"#040506\", height: 10 },\n    { offset: 20, color: \"#040506\", height: 10 },\n    { offset: 22, color: \"#040506\", height: 10 },\n    { offset: 24, color: \"#040506\", height: 10 },\n    { offset: 26, color: \"#040506\", height: 10 },\n    { offset: 28, color: \"#040506\", height: 10 },\n    { offset: 30, color: \"#040506\", height: 10 },\n    { offset: 32, color: \"#040506\", height: 10 },\n    { offset: 34, color: \"#040506\", height: 10 },\n    { offset: 36, color: \"#040506\", height: 10 },\n    { offset: 38, color: \"#040506\", height: 10 },\n    { offset: 40, color: \"#040506\", height: 10 },\n    { offset: 42, color: \"#040506\", height: 10 },\n    { offset: 44, color: \"#040506\", height: 10 },\n    { offset: 46, color: \"#040506\", height: 10 },\n    { offset: 48, color: \"#040506\", height: 10 },\n    { offset: 50, color: \"#040506\", height: 10 }\n  ],\n  diamonds: [\n    { x: 0, offset: 0.15, pos: new Vector3(), scale: 0.6, factor: 1.8 },\n    { x: 2, offset: 1.1, pos: new Vector3(), scale: 0.8, factor: 2.1 },\n    { x: -5, offset: 2, pos: new Vector3(), scale: 0.8, factor: 2.5 },\n    { x: 0, offset: 3.2, pos: new Vector3(), scale: 0.8, factor: 1.75 },\n    { x: 0, offset: 4, pos: new Vector3(), scale: 0.8, factor: 2.5 },\n    { x: 2, offset: 5.5, pos: new Vector3(), scale: 1.25, factor: 0.85 },\n    { x: -5, offset: 7, pos: new Vector3(), scale: 0.8, factor: 2 },\n    { x: 0, offset: 8, pos: new Vector3(), scale: 1.5, factor: 6 }\n  ],\n  top: createRef()\n}\n\nexport default state\n","import { FontLoader, Vector3, TextBufferGeometry } from \"three\"\nimport React, { useCallback, useRef } from \"react\"\nimport { useLoader, useFrame } from \"react-three-fiber\"\nimport usePromise from \"react-promise-suspense\"\nimport lerp from \"lerp\"\nimport state from \"../store\"\n\nfunction Text({ children, size = 1, left, right, top, bottom, color = \"white\", opacity = 1, height = 0.01, layers = 0, font = \"/DelaGothicOne_Regular.json\", ...props }) {\n  const data = useLoader(FontLoader, font)\n  const geom = usePromise(() => new Promise(res => res(new TextBufferGeometry(children, { font: data, size: 1, height, curveSegments: 32 }))), [children])\n  const onUpdate = useCallback(\n    self => {\n      const box = new Vector3()\n      self.geometry.computeBoundingBox()\n      self.geometry.boundingBox.getSize(box)\n      self.position.x = left ? 0 : right ? -box.x : -box.x / 2\n      self.position.y = top ? 0 : bottom ? -box.y : -box.y / 2\n    },\n    [left, right, top, bottom]\n  )\n\n  const ref = useRef()\n  let last = state.top.current\n  useFrame(() => {\n    ref.current.shift = lerp(ref.current.shift, (state.top.current - last) / 100, 0.1)\n    last = state.top.current\n  })\n\n  return (\n    <group {...props} scale={[size, size, 0.1]}>\n      <mesh geometry={geom} onUpdate={onUpdate} frustumCulled={false}>\n        <customMaterial ref={ref} attach=\"material\" color={color} transparent opacity={opacity} />\n      </mesh>\n    </group>\n  )\n}\n\nconst MultilineText = ({ text, size = 1, lineHeight = 1, position = [0, 0, 0], ...props }) =>\n  text.split(\"\\n\").map((text, index) => <Text key={index} size={size} {...props} position={[position[0], position[1] - index * lineHeight, position[2]]} children={text} />)\n\nexport { Text, MultilineText }\n","import { ShaderMaterial, Color } from \"three\"\nimport { extend } from \"react-three-fiber\"\n\nclass CustomMaterial extends ShaderMaterial {\n  constructor() {\n    super({\n      vertexShader: `uniform float scale;\n      uniform float shift;\n      varying vec2 vUv;\n      void main() {\n        vec3 pos = position;\n        pos.y = pos.y + ((sin(uv.x * 3.1415926535897932384626433832795) * shift * 1.5) * 0.125);\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n      }`,\n      fragmentShader: `uniform sampler2D texture;\n      uniform float hasTexture;\n      uniform float shift;\n      uniform float scale;\n      uniform vec3 color;\n      uniform float opacity;\n      varying vec2 vUv;\n      void main() {\n        float angle = 1.55;\n        vec2 p = (vUv - vec2(0.5, 0.5)) * (1.0 - scale) + vec2(0.5, 0.5);\n        vec2 offset = shift / 4.0 * vec2(cos(angle), sin(angle));\n        vec4 cr = texture2D(texture, p + offset);\n        vec4 cga = texture2D(texture, p);\n        vec4 cb = texture2D(texture, p - offset);\n        if (hasTexture == 1.0) gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n        else gl_FragColor = vec4(color, opacity);\n      }`,\n      uniforms: {\n        texture: { value: null },\n        hasTexture: { value: 0 },\n        scale: { value: 0 },\n        shift: { value: 0 },\n        opacity: { value: 1 },\n        color: { value: new Color(\"white\") }\n      }\n    })\n  }\n\n  set scale(value) {\n    this.uniforms.scale.value = value\n  }\n\n  get scale() {\n    return this.uniforms.scale.value\n  }\n\n  set shift(value) {\n    this.uniforms.shift.value = value\n  }\n\n  get shift() {\n    return this.uniforms.shift.value\n  }\n\n  set map(value) {\n    this.uniforms.hasTexture.value = !!value\n    this.uniforms.texture.value = value\n  }\n\n  get map() {\n    return this.uniforms.texture.value\n  }\n\n  get color() {\n    return this.uniforms.color.value\n  }\n\n  get opacity() {\n    return this.uniforms.opacity.value\n  }\n\n  set opacity(value) {\n    if (this.uniforms) this.uniforms.opacity.value = value\n  }\n}\n\nextend({ CustomMaterial })\n","import React, { createContext, useRef, useContext } from \"react\"\nimport { useFrame, useThree } from \"react-three-fiber\"\nimport lerp from \"lerp\"\nimport state from \"./store\"\n\nconst offsetContext = createContext(0)\n\nfunction Block({ children, offset, factor, ...props }) {\n  const { offset: parentOffset, sectionHeight } = useBlock()\n  const ref = useRef()\n  offset = offset !== undefined ? offset : parentOffset\n  useFrame(() => {\n    const curY = ref.current.position.y\n    const curTop = state.top.current\n    ref.current.position.y = lerp(curY, (curTop / state.zoom) * factor, 0.1)\n  })\n  return (\n    <offsetContext.Provider value={offset}>\n      <group {...props} position={[0, -sectionHeight * offset * factor, 0]}>\n        <group ref={ref}>{children}</group>\n      </group>\n    </offsetContext.Provider>\n  )\n}\n\nfunction useBlock() {\n  const { sections, pages, zoom } = state\n  const { size, viewport } = useThree()\n  const offset = useContext(offsetContext)\n  const viewportWidth = viewport.width\n  const viewportHeight = viewport.height\n  const canvasWidth = viewportWidth / zoom\n  const canvasHeight = viewportHeight / zoom\n  const mobile = size.width < 700\n  const margin = canvasWidth * (mobile ? 0.2 : 0.1)\n  const contentMaxWidth = canvasWidth * (mobile ? 0.8 : 0.6)\n  const sectionHeight = canvasHeight * ((pages - 1) / (sections - 1))\n  const offsetFactor = (offset + 1.0) / sections\n  return {\n    viewport,\n    offset,\n    viewportWidth,\n    viewportHeight,\n    canvasWidth,\n    canvasHeight,\n    mobile,\n    margin,\n    contentMaxWidth,\n    sectionHeight,\n    offsetFactor\n  }\n}\n\nexport { Block, useBlock }\n","import React, { forwardRef, useRef } from \"react\"\nimport { useFrame } from \"react-three-fiber\"\nimport lerp from \"lerp\"\nimport \"./CustomMaterial\"\nimport { useBlock } from \"../blocks\"\nimport state from \"../store\"\n\nconst Plane = forwardRef(({ color = \"white\", shift = 1, opacity = 1, args, map, ...props }, ref) => {\n  const { viewportHeight, offsetFactor } = useBlock()\n  const material = useRef()\n  let last = state.top.current\n  useFrame(() => {\n    const { pages, top } = state\n    material.current.scale = 0 // lerp(material.current.scale, offsetFactor - top.current / ((pages - 1) * viewportHeight), 0.1)\n    material.current.shift = lerp(material.current.shift, (top.current - last) / shift, 0.1)\n    last = top.current\n  })\n  return (\n    <mesh ref={ref} {...props}>\n      <planeBufferGeometry attach=\"geometry\" args={args} />\n      <customMaterial ref={material} attach=\"material\" color={color} map={map} transparent opacity={opacity} />\n    </mesh>\n  )\n})\n\nexport default Plane\n","import ReactDOM from \"react-dom\"\nimport React, { Suspense, useEffect, useRef, useMemo, useState } from \"react\"\nimport { Canvas, Dom, useLoader, useFrame } from \"react-three-fiber\"\nimport { TextureLoader, LinearFilter } from \"three\"\nimport lerp from \"lerp\"\nimport ModalVideo from 'react-modal-video'\n// import { Text, MultilineText } from \"./components/Text\"\nimport { Text } from \"./components/Text\"\n// import Diamonds from \"./diamonds/Diamonds\"\nimport Plane from \"./components/Plane\"\nimport { Block, useBlock } from \"./blocks\"\nimport state from \"./store\"\nimport '../node_modules/react-modal-video/css/modal-video.min.css'\nimport \"./styles.css\"\n \nfunction Startup() {\n  const ref = useRef()\n  useFrame(() => (ref.current.material.opacity = lerp(ref.current.material.opacity, 0, 0.025)))\n  return <Plane ref={ref} color=\"#0e0e0f\" position={[0, 0, 200]} scale={[100, 100, 1]} />\n}\n\nfunction Paragraph({ image, index, offset, factor, header, aspect, url, text }) {\n  const { contentMaxWidth: w, canvasWidth, margin, mobile } = useBlock()\n  const size = aspect < 1 && !mobile ? 0.65 : 1\n  const alignRight = (canvasWidth - w * size - margin) / 2\n  const pixelWidth = w * state.zoom * size\n  const left = !(index % 2)\n  const color = index % 2 ? \"#D40749\" : \"#2FE8C3\"\n  return (\n    <Block factor={factor} offset={offset * 0.625 + 0.0125}>\n      <group position={[left ? -alignRight : alignRight, 0, 0]}>\n        <Plane map={image} args={[1, 1, 32, 32]} shift={75} size={size} aspect={aspect} scale={[w * size, (w * size) / aspect, 1]} frustumCulled={false}\n        />\n        <Dom\n          style={{ width: pixelWidth / (mobile ? 1 : 2), textAlign: left ? \"left\" : \"right\" }}\n          position={[left || mobile ? (-w * size) / 2 : 0, (-w * size) / 2 / aspect - 0.4, 1]}>\n          <div tabIndex={index}>\n            {/* {text} */}\n            {url ? <a href={url} className=\"modal-trigger\" target=\"_blank\" data-url={url} >Clique aqui para assistir.</a>: \"\"}\n          </div>\n        </Dom>\n        <Text left={left} right={!left} size={w * 0.04} color={color} top position={[((left ? -w : w) * size) / 2, (w * size) / aspect / 2 + 0.5, -1]}>\n          {header}\n        </Text>\n        <Block factor={0.2}>\n          <Text opacity={0.5} size={w * 0.15} color=\"#1A1E2A\" position={[((left ? w : -w) / 2) * size, (w * size) / aspect / 1.75 + 0.15, -10]}>\n            {String(index + 1).padStart(2,'0')}\n          </Text>\n        </Block>\n      </group>\n    </Block>\n  )\n}\n\nfunction Content() {\n  const images = useLoader(\n    TextureLoader,\n    state.paragraphs.map(({ image }) => image)\n  )\n  useMemo(() => images.forEach(texture => (texture.minFilter = LinearFilter)), [images])\n  const { contentMaxWidth: w, canvasWidth, canvasHeight, mobile } = useBlock()\n  return (\n    <>\n      <Block factor={1} offset={0}>\n        <Block factor={1.4}>\n          <Text left size={w * 0.25} position={[-w / 3.2, 1, -1]} color=\"#2FE8C3\">\n            50\n          </Text>\n        </Block>\n        <Block factor={1.2}>\n          <Text left size={w * 0.105} position={[-w / 3.2, -1, -1]} color=\"#d40749\">\n            Curtas\n          </Text>\n        </Block>\n        <Block factor={1.0}>\n          <Dom className=\"subtitle\" position={[-w / 3.2, -w * 0.08 + 0.25 -1.15, -1]}>Um catálogo da história do cinema de animação{mobile ? <br /> : \" \"}no formato de código de barras.</Dom>\n        </Block>\n      </Block>\n      {state.paragraphs.map((props, index) => (\n        <Paragraph key={index} index={index} {...props} image={images[index]} />\n      ))}\n      {state.stripes.map(({ offset, color, height }, index) => (\n        <Block key={index} factor={-1.25} offset={offset * 0.625}>\n          <Plane args={[50, height, 32, 32]} shift={-4} color={color} rotation={[0, 0, Math.PI / 8]} position={[0, 0, -10]} />\n        </Block>\n      ))}\n      {/* <Block factor={1.625} offset={50}>\n        <Dom className=\"bottom-left\" position={[-canvasWidth / 2, -canvasHeight / 2, 0]}>\n          \n        </Dom>\n      </Block> */}\n    </>\n  )\n}\n\nfunction App() {\n  // const scrollArea = useRef()\n  // const onScroll = e => (state.top.current = e.target.scrollTop)\n  // useEffect(() => void onScroll({ target: scrollArea.current }), [])\n\n  const [modalUrl, setModalUrl] = useState(\"\");\n\n  useEffect(() => {\n    const onScroll = e => (state.top.current = window.scrollY);\n    window.addEventListener(\"scroll\", onScroll);\n\n    const onModalClick = (e) => {\n      if (e.target.classList.contains(\"modal-trigger\")) {\n        e.preventDefault();\n        const url = new URL(e.target.dataset.url);\n        setModalUrl(url.searchParams.get('v'));\n      }\n    };\n    document.getElementById(\"root\").addEventListener(\"click\", onModalClick);\n   return () => {\n    window.removeEventListener(\"scroll\", onScroll);\n    document.getElementById(\"root\").removeEventListener(\"click\", onModalClick)\n   } \n  }, [])\n  return (\n    <>\n      {/* <div className=\"scrollArea\" ref={scrollArea} onScroll={onScroll}> */}\n      <div className=\"scrollArea\">\n        {new Array(state.sections).fill().map((_, index) => (\n          <div key={index} id={String(index).padStart(2,'0')} style={{ height: `${(state.pages / state.sections) * 62.5}vh` }} />\n        ))}\n        <div style={{ height: `${((state.pages / state.sections) * 62.5) * 0.625}vh` }} />\n      </div>\n      <Canvas className=\"canvas\" style={{ position: \"fixed\" }} concurrent pixelRatio={1} orthographic camera={{ zoom: state.zoom, position: [0, 0, 500] }}>\n        <Suspense fallback={<Dom center className=\"loading\" children=\"Carregando...\" />}>\n          <Content />\n          {/* <Diamonds /> */}\n          <Startup />\n        </Suspense>\n      </Canvas>\n      <div className=\"frame\">\n        <h1 className=\"frame__title\">50 Curtas</h1>\n        <div className=\"frame__links\">\n          <a className=\"frame__link\" href=\"https://acemir.me\">\n            Acemir Sousa Mendes\n          </a>\n          {/* <a className=\"frame__link\" href=\"http://tympanus.net/Tutorials/PhysicsMenu/\">\n            Previous demo\n          </a>\n          <a className=\"frame__link\" href=\"https://tympanus.net/codrops/?p=45441\">\n            Article\n          </a>\n          <a className=\"frame__link\" href=\"https://github.com/drcmda/the-substance\">\n            GitHub\n          </a> */}\n        </div>\n        <div className=\"frame__copy\">\n          Copyleft <span className=\"copyleft\">(<svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 11 15.1\"><path d=\"M5.2,7.1c1.2,0,2.1,0.4,2.7,1.1c0.7,0.7,1,1.7,1,2.9c0,1.3-0.3,2.2-1,2.9c-0.7,0.7-1.6,1.1-2.7,1.1c-0.8,0-1.5-0.2-2-0.6c-0.6-0.4-1-1-1.2-1.7L3,12.4c0.1,0.5,0.4,0.9,0.7,1.2C4.1,13.9,4.6,14,5.2,14C6,14,6.6,13.8,7,13.2c0.4-0.5,0.7-1.2,0.7-2.2c0-0.9-0.2-1.6-0.7-2.2C6.6,8.4,6,8.2,5.2,8.2c-1,0-1.7,0.5-2.1,1.5L2,9.1C2.3,8.5,2.7,8,3.2,7.6C3.7,7.2,4.4,7.1,5.2,7.1z\"/></svg>)</span> 2022\n        </div>\n        <div className=\"frame__nav\">\n          <a className=\"frame__link\" href=\"#00\" children=\"Início\" />\n          {new Array(state.pages).fill().map((_, index) => {\n            const item = String(index + 1).padStart(2,'0');\n            return (\n              <a key={index} className=\"frame__link\"  href={`#${item}`} children={item} />\n            );\n          })}\n        </div>\n      </div>\n      <ModalVideo channel='youtube' autoplay isOpen={!!modalUrl} videoId={modalUrl} youtube={{autoplay:1}} onClose={() => {\n        setModalUrl(\"\");\n      }} />\n    </>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}